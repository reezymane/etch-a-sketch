<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Etch-A-Sketch</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div id="container2">   
            <button>Set Up New Grid!</button>
        </div> 

        <div id="container">
        </div>

        <script>
            const container = document.getElementById("container");
            
            let x = 0;

            function makeRows(input) {
                container.style.setProperty('--grid-rows', input);
                container.style.setProperty('--grid-cols', input);    
                for (c = 0; c < (input * input); c++) {
                    let cell = document.createElement("div");
                    cell.classList.add("grid");
                    container.appendChild(cell);
                };

                clr = document.querySelectorAll('.grid');
                clr.forEach((hover) => {
                    hover.addEventListener('mouseover' , () => {
                        hover.style.backgroundColor = "red";
                    });   
                });
            };

            const btn = document.querySelector('button');
            btn.addEventListener('click' , () => {
                let num = prompt("Enter the number of squares per side for the new grid:");
                num = Number(num);

                if (x == 0) {
                    if (num <= 100) {
                        makeRows(num);
                    } else {
                        alert('Please enter a number less than 100!');
                    };
                } else {
                    while (container.firstChild) {
                        container.removeChild(container.firstChild);
                    };

                    if (num <= 100) {
                        makeRows(num);
                    } else {
                        alert('Please enter a number less than 100!');
                    };
                }

                x = x + 1;
            });
               
            
        </script>
    </body>
</html>